<div class="max-w-5xl mx-auto">
    <!-- Main image -->
    <div class="bg-base-200 rounded-box p-4">
      <div class="flex justify-center">
        <img
          id="mainImage"
          src="{{ photos.0.image.url }}"
          alt="{{ photos.0.title|default:'Photo' }}"
          class="max-h-[70vh] w-auto object-contain rounded-box"
        />
      </div>
      <p id="mainCaption" class="mt-3 text-sm opacity-70">
        {{ photos.0.title|default:"" }}
      </p>
    </div>
  
    <!-- Thumbnails -->
    <div class="mt-4 flex gap-3 overflow-x-auto py-2">
      {% for p in photos %}
        <button
          type="button"
          class="thumb shrink-0"
          data-src="{{ p.image.url }}"
          data-caption="{{ p.title|default:''|escape }}"
        >
          <img
            src="{{ p.image.url }}"
            alt="{{ p.title|default:'Thumbnail' }}"
            class="h-20 w-32 object-cover rounded-box border border-base-300 hover:opacity-80"
          />
        </button>
      {% endfor %}
    </div>
  </div>
  
  <script>
    const mainImage = document.getElementById("mainImage");
    const mainCaption = document.getElementById("mainCaption");
  
    document.querySelectorAll(".thumb").forEach((btn) => {
      btn.addEventListener("click", () => {
        mainImage.src = btn.dataset.src;
        mainCaption.textContent = btn.dataset.caption || "";
      });
    });
  </script>